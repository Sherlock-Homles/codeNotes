## CSS

### 1、浏览器的渲染过程

简略流程: 构建DOM -> 构建CSSOM -> 构建渲染树 -> 布局 -> 绘制

详细:

> 1. 解析**HTML**构建**DOM 树**（**DOM 树**是由**DOM 元素**及**属性节点**组成）
> 2. 解析**CSS**内容构建**CSSOM 规则树**（**CSSOM**[**CSS Object Model**]是**CSS**的**对象模型**，是一组允许用**JavaScript**操作元素**CSS**的**API**）
> 3. 浏览器根据**DOM 树**和**CSSOM 规则树**构建**渲染树**（**渲染树**的节点被成为**渲染对象**，**渲染树**只包含可见节点）
> 4. 浏览器生成**渲染树**后,根据**渲染树**进行**布局**(也可以叫做**回流**)
> 5. **分层**：为特定节点生成专用的图层,生成对应的**图层树**
> 6. **绘制**：对**图层树**的每个图层进行绘制

其他要点：

> 1. **光栅化**：是指将图块转换为位图，简单来说就是按照绘制列表中的指令生成图片，每一个图层都对应一张图片
>
> 2. **回流**和**重绘**：页面构建是就会触发一次回流和重绘
>
>    > **回流**：当某个元素的大小、位置发生变化时，浏览器会使**渲染树**中受影响的部分失效，并重新构造这部分渲染树
>    >
>    > **重绘**：当某个元素的字体、颜色等不影响布局的属性发生变化时，不需要重新构建**渲染树**，只需要重新绘制页面即可
>    >
>    > **性能影响**：回流比重绘的代价高，有时候回流一个单一元素，它的父元素以及任何跟随它的元素也会产生回流
>    >
>    > **减少回流和重绘**：
>    >
>    > - 使用transform替代top
>    > - 使用visibility替换display: none，前者只会引起重绘，后者会引发回流（改变了布局）
>    > - 不要把节点属性放在一个循环里当成循环的变量
>    > - 不要使用table布局，可能一个小改动会造成整个table的重新布局
>    > - CSS选择符从右向左匹配查找，避免节点层级过多
>    > - 将屁饭重绘或回流的节点设置为图层，图层能够阻止该节点的渲染行为影响别的节点

### 2、CSS常用选择器

> 1. 通配符：*
> 2. ID选择器：#ID
> 3. 类选择器：.class
> 4. 元素选择器：p、a、div
> 5. 后代选择器：p span、div a
> 6. 伪类选择器：a:hover
> 7. 属性选择器：input[type="text"]
